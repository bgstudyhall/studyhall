<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Update Required</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial Black', Arial, sans-serif;
            background: linear-gradient(135deg, #1a3a52 0%, #2d5f8d 40%, #4a90c9 100%);
            background-attachment: fixed;
            color: #1a1a1a;
            padding: 2rem;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            max-width: 600px;
            width: 100%;
            background: rgba(240, 248, 255, 0.98);
            padding: 3rem;
            border-radius: 40px;
            border: 8px solid #2c4a6b;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        .security-icon {
            font-size: 4rem;
            text-align: center;
            margin-bottom: 1rem;
        }

        h1 {
            font-size: 2rem;
            color: #1e3a5f;
            text-align: center;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .alert-badge {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 12px;
            text-align: center;
            font-weight: 900;
            font-size: 0.9rem;
            margin-bottom: 2rem;
            border: 4px solid #2c4a6b;
            box-shadow: 0 4px 0 #2c4a6b;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .info-section {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border: 4px solid #2c4a6b;
            border-left: 8px solid #64b5f6;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 0 rgba(44, 74, 107, 0.3);
        }

        .info-section h2 {
            color: #1e3a5f;
            font-size: 1.3rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
        }

        .info-section p {
            color: #1e3a5f;
            line-height: 1.6;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .security-tips {
            background: #e1f5fe;
            border: 4px solid #2c4a6b;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 0 rgba(44, 74, 107, 0.3);
        }

        .security-tips h3 {
            color: #1e3a5f;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
        }

        .security-tips ul {
            list-style: none;
            padding: 0;
        }

        .security-tips li {
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.7);
            border-left: 4px solid #64b5f6;
            margin-bottom: 0.75rem;
            border-radius: 8px;
            font-weight: 600;
            color: #1e3a5f;
        }

        .security-tips li::before {
            content: "üîí ";
            margin-right: 0.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            color: #1e3a5f;
            font-weight: 900;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 0.5px;
        }

        input[type="password"] {
            width: 100%;
            padding: 1rem 1.25rem;
            border: 4px solid #2c4a6b;
            border-radius: 16px;
            font-size: 1rem;
            font-weight: 600;
            background: linear-gradient(135deg, #ffffff 0%, #e3f2fd 100%);
            box-shadow: 0 4px 0 rgba(44, 74, 107, 0.3);
            transition: all 0.3s;
        }

        input[type="password"]:focus {
            outline: none;
            border-color: #64b5f6;
            box-shadow: 0 4px 0 #64b5f6;
        }

        .submit-btn {
            width: 100%;
            background: linear-gradient(135deg, #64b5f6 0%, #42a5f5 100%);
            color: white;
            border: 4px solid #2c4a6b;
            padding: 1.25rem 2rem;
            font-size: 1.1rem;
            font-weight: 900;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 5px 0 #2c4a6b;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 0 #2c4a6b;
        }

        .submit-btn:active {
            transform: translateY(2px);
            box-shadow: 0 3px 0 #2c4a6b;
        }

        .error-message {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            border: 4px solid #2c4a6b;
            border-left: 8px solid #ef5350;
            border-radius: 16px;
            padding: 1rem 1.5rem;
            margin-bottom: 1.5rem;
            color: #c62828;
            font-weight: 700;
            box-shadow: 0 4px 0 rgba(44, 74, 107, 0.3);
        }

        .success-message {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border: 4px solid #2c4a6b;
            border-left: 8px solid #66bb6a;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            color: #2e7d32;
            font-weight: 700;
            text-align: center;
            box-shadow: 0 4px 0 rgba(44, 74, 107, 0.3);
        }

        .success-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .continue-btn {
            display: inline-block;
            background: linear-gradient(135deg, #66bb6a 0%, #4caf50 100%);
            color: white;
            border: 4px solid #2c4a6b;
            padding: 1rem 2rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 900;
            text-transform: uppercase;
            box-shadow: 0 4px 0 #2c4a6b;
            transition: all 0.3s;
            margin-top: 1rem;
        }

        .continue-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 0 #2c4a6b;
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .container {
                padding: 2rem;
                border-width: 5px;
            }

            h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        {% if success %}
        <div class="success-icon">‚úÖ</div>
        <div class="success-message">
            <h2 style="margin-bottom: 0.5rem; font-size: 1.5rem;">Password Updated Successfully!</h2>
            <p style="margin-bottom: 0; font-size: 1rem;">Thank you for your coorporation, your account is now secure. You can return to StudyHall.</p>
            <a href="{{ url_for('index') }}" class="continue-btn">Continue</a>
        </div>
        {% else %}
        <div class="security-icon">üîê</div>
        <h1>Update your Password</h1>

        <div class="alert-badge">‚ö†Ô∏è Immediate Action Required</div>

        <div class="info-section">
            <h2>Course of Action</h2>
            <p>Dear fellow BG students, due to a recent security incident, we require all students to update their passwords immediately. This is a mandatory security measure to protect your account.</p>
            <p><strong>What happened?</strong> Over the past couple of weeks we detected unauthorized access into student accounts. Especially targetted were students with many tokens and our esteemed ambassadors. Your immediate action helps ensure your account remains safe.</p>
        </div>

        <div class="security-tips">
            <h3>üõ°Ô∏è Security Best Practices</h3>
            <ul>
                <li>Choose a strong, unique password</li>
                <li>NEVER share your password with anyone, NOT even friends</li>
                <li>Your tokens can be stolen/gambled if someone knows your password and game data (progess) can be destoroyed</li>
                <li>Change your password and contact an ambassador if you suspect someone else knows it</li>
                <li>Use a different password than you use on other websites</li>
            </ul>
        </div>

        {% if error %}
        <div class="error-message">
            ‚ùå {{ error }}
        </div>
        {% endif %}

        <form method="POST">
            <div class="form-group">
                <label for="new_password">New Password</label>
                <input type="password" id="new_password" name="new_password" required minlength="2" placeholder="Enter your new password">
            </div>

            <div class="form-group">
                <label for="confirm_password">Confirm New Password</label>
                <input type="password" id="confirm_password" name="confirm_password" required minlength="2" placeholder="Re-enter your new password">
            </div>

            <button type="submit" class="submit-btn">üîí Update Password</button>
        </form>
        {% endif %}
    </div>
</body>
</html>